<div style="display: block; max-width: 800px; margin: 5rem auto;">
    <div class="lanes">
        @if(me()) {
        <app-lane
            [id]="me()!.id"
            [car]="me()!.car"
            [username]="me()!.name + ' (' + me()!.wpm + 'wpm-' + (me()!.accuracy | percent) + ')'"
            [percentage]="me()!.percentage"
            [winners]="winners()"
        ></app-lane>
        }
        @for(player of others(); track player.id) {
        <app-lane
            [id]="player.id"
            [car]="player.car"
            [username]="player.name + ' (' + player.wpm + 'wpm-' + (player.accuracy | percent) + ')'"
            [percentage]="player.percentage"
            [winners]="winners()"
        ></app-lane>
        }
    </div>

    <div
        class="text"
        [class.finished]="finished()"
        [class.unfocused]="document.activeElement !== textControl"
        (click)="focusTextControl()"
    >
        @for (char of chars; track $index) {
        <span
            class="char"
            [class.active]="char.active"
            [class.digited]="char.digited"
            [class.error]="char.error"
        >{{ char.char }}</span>
        }
    </div>

    <input
        #textControl
        style="opacity: 0;"
        id="text-control"
        class="form-control"
        type="text"
        autocomplete="off"
        (input)="inputText($event)"
    >
</div>
